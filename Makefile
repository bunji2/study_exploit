TARGETS=check_addr \
	check_addr2 \
	check_stack \
	check_canary

all: $(TARGETS)

clean:
	rm $(TARGETS)

bof_ssp: bof.c
	gcc -m32 -fstack-protector-all -z execstack $^ -o $@

bof: bof.c
	gcc -m32 -fno-stack-protector -z execstack $^ -o $@
	chmod u+s ./bof
	ls -l ./bof

check_addr: bof.c
	gcc -m32 -fno-stack-protector -z execstack -DCHECK_ADDR $^ -o $@ 

check_addr2: bof.c
	gcc -m32 -fPIE -pie -z execstack -DCHECK_ADDR $^ -o $@ 

check_stack: bof.c
	gcc -m32 -fno-stack-protector -z execstack -DCHECK_STACK $^ -o $@ 

check_canary: bof2.c
	gcc -m32 -fstack-protector-all -DCHECK_CANARY $^ -o $@ 

